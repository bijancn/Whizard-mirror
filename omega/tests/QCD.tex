% QCD.tex - Pretty printing wrapper for QCD.omf
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[12pt,a4paper]{article}
\usepackage{amsmath}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% To become omf.sty ...
\makeatletter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\omf@listmode{%
  \def\charged##1##2{(##1,##2)}%
  \def\neutral##1{##1}%
  \def\tex##1{\ensuremath{\text{\TeX}: ##1}}%
  \def\fortran##1{\texttt{Fortran}: \texttt{##1}}%
  \def\alias##1{alias: \texttt{##1}}%
  \def\anti##1##2{%
    \ifx##1\tex
      \ensuremath{\overline{\text{\TeX}}: ##2}%
    \else
      \ifx##1\fortran
        \ensuremath{\overline{\text{\texttt{Fortran}}}: \texttt{##2}}%
      \else
        \ifx##1\alias
          \ensuremath{\overline{\text{alias}}: ##2}%
        \else
          \errmessage{anti must be followed by tex, fortran or alias!}
        \fi
      \fi
    \fi}}
\newenvironment{omflist}%
  {\omf@listmode}%
  {}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newif\ifomf@tab@aliases
\newif\ifomf@tab@antialiases
\newtoks\omf@tab@aliases
\newtoks\omf@tab@antialiases
\def\omf@tab@clearparticle{%
  \global\let\omf@tab@neutral\relax
  \global\let\omf@tab@charged\relax
  \global\let\omf@tab@anti\relax
  \global\let\omf@tab@tex\relax
  \global\let\omf@tab@antitex\relax
  \global\let\omf@tab@fortran\relax
  \global\let\omf@tab@antifortran\relax
  \global\omf@tab@aliases={}%
  \global\omf@tab@aliasesfalse
  \global\omf@tab@antialiases={}%
  \global\omf@tab@antialiasesfalse}
\def\omf@tab@amp{&}% Why???
\def\omf@tab@makerow@{%
  & \ensuremath{\omf@tab@tex}
  & \ifx\omf@tab@anti\relax---\else\ensuremath{\omf@tab@antitex}\fi
  & \texttt{\omf@tab@fortran}
  & \ifx\omf@tab@anti\relax---\else\texttt{\omf@tab@antifortran}\fi
  & \ifomf@tab@aliases\textit{\the\omf@tab@aliases}\else---\fi
  & \ifomf@tab@antialiases\textit{\the\omf@tab@antialiases}\else---\fi \\
  \omf@tab@clearparticle\ignorespaces}
\def\omf@tab@makerow{%
   \ifx\omf@tab@neutral\relax
     \ifx\omf@tab@charged\relax
     \else
       \textit{\omf@tab@charged}\omf@tab@amp\textit{\omf@tab@anti}%
       \omf@tab@makerow@
     \fi
   \else
       \textit{\omf@tab@neutral}\omf@tab@amp ---
     \omf@tab@makerow@
   \fi}
\def\omf@tabularmode{%
  \gdef\charged##1##2{%
    \omf@tab@makerow
    \gdef\omf@tab@charged{##1}%
    \gdef\omf@tab@anti{##2}%
    \ignorespaces}%
  \gdef\neutral##1{%
    \omf@tab@makerow
    \gdef\omf@tab@neutral{##1}%
    \ignorespaces}%
  \gdef\tex##1{\gdef\omf@tab@tex{##1}\ignorespaces}%
  \gdef\fortran##1{\gdef\omf@tab@fortran{##1}\ignorespaces}%
  \gdef\alias##1{%
     \ifomf@tab@aliases
       \global\omf@tab@aliases=%
         \expandafter{\the\omf@tab@aliases, ##1}%
     \else
       \global\omf@tab@aliases={##1}%
       \global\omf@tab@aliasestrue
     \fi
     \ignorespaces}%
  \gdef\anti##1##2{%
    \ifx##1\tex
      \gdef\omf@tab@antitex{##2}%
    \else
      \ifx##1\fortran
        \gdef\omf@tab@antifortran{##2}%
      \else
        \ifx##1\alias
          \ifomf@tab@antialiases
            \global\omf@tab@antialiases=%
              \expandafter{\the\omf@tab@antialiases, ##2}%
          \else
            \global\omf@tab@antialiases={##2}%
            \global\omf@tab@antialiasestrue
          \fi
        \else
          \errmessage{anti must be followed by tex, fortran or alias!}%
        \fi
      \fi
    \fi
    \ignorespaces}%
  \omf@tab@clearparticle}
\newenvironment{omftable}%
  {\omf@tabularmode
   \begin{tabular}{cc|cc|cc|cc}%
      \multicolumn{2}{l|}{O'Mega}%
    & \multicolumn{2}{|l|}{\TeX}%
    & \multicolumn{2}{|l|}{\texttt{Fortran}}%
    & \multicolumn{2}{|l}{alias(es)}\\\hline
   \ignorespaces}
  {\omf@tab@makerow
   \end{tabular}}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\omf@listmode
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\section*{Quantum Chromo Dynamics}
\input{QCD.omf}
\end{document}
