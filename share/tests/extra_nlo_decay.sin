model = SM

$loop_me_method = "openloops"
iterations = 3:500:"gw",3:500
iterations = 1:100
!mult_call_real = 500
?vis_history = false
wtop = 0.0
mtop = 172.0
wW = 0.0
mb = 4.2
mZ = 91.188
mW = 80.419
real alpha = 1.0 / 125.924
GF = pi * alpha / sqrt(2.0) / mW**2 / sw**2
show(model)
?alpha_s_is_fixed = false
alpha_power = 1
?alpha_s_from_mz = true
alpha_s_order = 1
alpha_s_nf = 5.0
alphas = 0.118
scale = mtop
openloops_verbosity = 3
?use_vamp_equivalences = false

seed = 0
!process extra_nlo_decay_real_omega = t => Wp, b { nlo_calculation = "Real" }
!integrate (extra_nlo_decay_real_omega)
$real_tree_me_method = "openloops"
$correlation_me_method = "openloops"
process extra_nlo_decay_real_openloops = t => Wp, b { nlo_calculation = "Real" }
seed = 0
integrate (extra_nlo_decay_real_openloops)
!expect (integral(extra_nlo_decay_real_omega) ==
  !integral(extra_nlo_decay_real_openloops)) {tolerance = 0.0001}

!process extra_nlo_decay = t => Wp, b { nlo_calculation = "Real" }
!integrate (extra_nlo_decay)
!expect (integral(extra_nlo_decay) == 1.40787091) {tolerance = 0.0001}

!mb = 0

!integrate (extra_nlo_decay)
!expect (integral(extra_nlo_decay) == 1.40958905) {tolerance = 0.0001}

!process extra_nlo_decay = t => Wp, b {nlo_calculation = "Full"}
!integrate (extra_nlo_decay) { beams_pol_fraction = 1.0 beams_pol_density = @(1) beams = t}
!process extra_nlo_decay = t => Wp, b {nlo_calculation = "Full"}
!integrate (extra_nlo_decay) { beams_pol_fraction = 1.0 beams_pol_density = @(-1) beams = t}

!process tbar_decay_p = T => Wm, B {nlo_calculation = "Full"}
!integrate (tbar_decay_p) { beams_pol_fraction = 1.0 beams_pol_density = @(1) beams = T}
!process tbar_decay_m = T => Wm, B {nlo_calculation = "Full"}
!integrate (tbar_decay_m) { beams_pol_fraction = 1.0 beams_pol_density = @(-1) beams = T}
